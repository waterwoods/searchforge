# Core API dependencies
fastapi==0.121.* ; python_version >= "3.10" and python_version < "4.0"
uvicorn[standard]==0.30.* ; python_version >= "3.10" and python_version < "4.0"
pydantic>=2.7.4,<3.0 ; python_version >= "3.10" and python_version < "4.0"
python-multipart==0.0.6 ; python_version >= "3.10" and python_version < "4.0"
httpx==0.25.2 ; python_version >= "3.10" and python_version < "4.0"
python-dotenv==1.0.0 ; python_version >= "3.10" and python_version < "4.0"
fastembed>=0.2.0 ; python_version >= "3.10" and python_version < "4.0"
openai==1.46.0 ; python_version >= "3.10" and python_version < "4.0"
onnxruntime>=1.18,<1.20 ; python_version >= "3.10" and python_version < "4.0"

# Hybrid search (BM25 for RRF fusion)
rank-bm25>=0.2.2 ; python_version >= "3.10" and python_version < "4.0"

# Vector DB client
qdrant-client==1.7.3 ; python_version >= "3.10" and python_version < "4.0"

# Network and requests
requests==2.32.4 ; python_version >= "3.10" and python_version < "4.0"
aiohttp>=3.9.0 ; python_version >= "3.10" and python_version < "4.0"
numpy>=1.24.0 ; python_version >= "3.10" and python_version < "4.0"
urllib3==2.2.3 ; python_version >= "3.10" and python_version < "4.0"
certifi==2025.10.5 ; python_version >= "3.10" and python_version < "4.0"
idna==3.11 ; python_version >= "3.10" and python_version < "4.0"
charset-normalizer==3.4.4 ; python_version >= "3.10" and python_version < "4.0"

# Configuration and data
pyyaml==6.0.3 ; python_version >= "3.10" and python_version < "4.0"
orjson==3.10.15 ; python_version >= "3.10" and python_version < "4.0"

# Graph processing (CPU-only)
networkx==3.1 ; python_version >= "3.10" and python_version < "4.0"

# LangGraph orchestration
langgraph==1.* ; python_version >= "3.10" and python_version < "4.0"
langchain-core==1.* ; python_version >= "3.10" and python_version < "4.0"
langgraph-checkpoint-sqlite>=0.1.0 ; python_version >= "3.10" and python_version < "4.0"

# MCP (Model Context Protocol) for mortgage programs server
mcp>=1.0.0 ; python_version >= "3.10" and python_version < "4.0"

# Utilities
redis==5.0.1 ; python_version >= "3.10" and python_version < "4.0"
prometheus-client==0.20.0 ; python_version >= "3.10" and python_version < "4.0"
tqdm==4.67.1 ; python_version >= "3.10" and python_version < "4.0"

# Experiment dependencies (headless plotting)
matplotlib>=3.8,<3.10 ; python_version >= "3.10" and python_version < "4.0"

# Core utilities
packaging==25.0 ; python_version >= "3.10" and python_version < "4.0"
typing-extensions==4.13.2 ; python_version >= "3.10" and python_version < "4.0"
filelock==3.16.1 ; python_version >= "3.10" and python_version < "4.0"
portalocker==2.10.1 ; python_version >= "3.10" and python_version < "4.0"

# Optional: Jinja2 for templates (if needed)
jinja2==3.1.6 ; python_version >= "3.10" and python_version < "4.0"
markupsafe==2.1.5 ; python_version >= "3.10" and python_version < "4.0"

# CPU-only SBERT embedding support
# DO NOT ADD: torch, torch-cuda, nvidia-* (torch is installed separately in Dockerfile)
sentence-transformers>=2.6.1 ; python_version >= "3.10" and python_version < "4.0"
transformers>=4.40.0 ; python_version >= "3.10" and python_version < "4.0"

# Note: torch is installed separately in Dockerfile from CPU-only index.
# DO NOT ADD: torch, torch-cuda, nvidia-* packages here.
# If embeddings are needed with GPU, use a separate GPU-enabled service.
langfuse>=2.0.0,<3.0.0 ; python_version >= "3.10" and python_version < "4.0"
